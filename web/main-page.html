<!DOCTYPE html>
<html>
  <head lang="zh">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>main-page</title>
    <link rel="stylesheet" href="../css/main.css">
  </head>
    <body>

      <script>
        //需要判断是否已经完成了登录界面
        var username = '';
        var password = '';

        // 读取 sessionStorage 中存储的数据
        let obj = sessionStorage.getItem('obj');
        if(username !== ''){}
        else{
          if (obj) {
              // 将数据从字符串解析为对象
              obj = JSON.parse(obj);
              username = obj.account;
              password = obj.password;
              // 你可以在这里使用 obj 中的数据，例如显示用户信息
              console.log(obj); // 这里你可以使用 data.code 或其他字段

              // 比如可以展示一个欢迎信息
              //document.body.innerHTML += `<p>Welcome, ${obj.account}</p>`;
          } else {
              // 如果没有数据，表示没有登录
              window.location.href="./sign-up.html";
              //alert('请先登录!');
          }
        }
      </script>

      <div class="container"> 
        <!--侧边导航栏-->
        <div class="menu-side">
          <ul class="menulist">
            <li class="logo">
                <img src="../img/cheese.png", title = ""  id="logo"  alt = "1">
                <p class="logo"><b>芝士音乐</b></p>
            </li>
            <li class="menu">
              <div class="cover" , id="recommand">
                <img src="../img/home.png" class = "menu_icon"  alt = " ">
                <p class="menu_desc">首页推荐</p>
              </div>

            <li class="menu">
              <div class="cover", id="like">
                <img src="../img/dislike.png" class = "menu_icon",alt = "">
                <p class="menu_desc">我的喜欢</p>
              </div>
            </li>

            <li class="menu">
              <div class="cover", id="password">
                <img src="../img/password.png" class = "menu_icon",alt = "">
                <p class="menu_desc">修改密码</p>
              </div>
            </li>

            <li class="menu">
              <div class="cover", id="logout">
                <img src="../img/logout.png" class = "menu_icon",alt = "">
                <p class="menu_desc">退出登录</p>
              </div>
            </li>

          </ul>

          <div class="user" id = "username">
            用户：未登录
          </div>


        </div>

        <!--主要页面-->
        <div class="song-side">
          <!--首页推荐-->
          <div class="page recommand ">

           
            <div class="upbox">
               <!--每日图片、名言（上）-->
              <div class="picture-container">
                <img src="../img/sun.jpg" class = "daliy"   id = "daily" alt = "1">
                <p class = "daliytext"   id = "daliytext">一杯清香的咖啡，一个温暖的下午</p>
              </div>

            </div>
            <!--热歌榜、新歌榜（下面）-->
            <div class="rankarea">
              <div class="ranklist-container" id = 'hotsong'>
                <div class="subtitle">
                  <p>热歌榜</p>
                </div>
              
              <div class="song-container" >
                  <div class="rankimg-container">
                    <!--这里放热歌榜的第一首歌的图片-->
                    <img class="rankimg"  id="hot"  src=""  alt = "">
                  </div>
                  <ol class = "songs">
                    <!-- hs : hot song -->
                    <!-- hn : hot name -->
                    <li class="song-name">
                      <p> 1. </p> 
                      <p class="song" id = "hs1">出错了</p>
                      <p class="name" id = "hn1">出错了</p>
                    </li>
                    <li class="song-name">
                      <p> 2. </p> 
                      <p class="song" id = "hs2">出错了</p>
                      <p class="name" id = "hn2">出错了</p>
                    </li>
                    <li class="song-name">
                      <p> 3. </p> 
                      <p class="song" id = "hs3">出错了;</p>
                      <p class="name" id = "hn3">出错了</p>
                    </li>
                  </ol>
                </div>
                
              </div>

              <div class="ranklist-container" id = 'newsong'>
                <div class="subtitle">
                  <p>新歌榜</p>
                </div>
                <div class="song-container">
                  <div class="rankimg-container">
                    <!--这里放新歌榜的第一首歌的图片-->
                    <img id="new" class="rankimg"  src=""  alt = "">      
                  </div>
                  <ol class = "songs">
                    <!-- ns : new song -->
                    <!-- nn : new name -->
                    <li class="song-name">
                      <p> 1. </p> 
                      <p class="song" id = "ns1">出错了</p>
                      <p class="name" id = "nn1">出错了</p>
                    </li>
                    <li class="song-name">
                      <p> 2. </p> 
                      <p class="song" id = "ns2">出错了</p>
                      <p class="name" id = "nn2">出错了</p>
                    </li>
                    <li class="song-name">
                      <p> 3. </p> 
                      <p class="song" id = "ns3">出错了</p>
                      <p class="name" id = "nn3">出错了</p>
                    </li>
                  </ol>
                </div>
                </div>
                
              
            </div>
            
            <div class="rankdetail hidden"   id = 'rankList1'>
              <div class="detailtitle">
                <p class = "smalltitle_number">#</p>
                <p class = "smalltitle_name">歌曲</p>
                <p class = "smalltitle_singer">歌手</p>
                <p class = "smalltitle_time">时长</p>
              </div>

              <div class="songcontainer"   id = "1">
                
              </div>
              
              

            </div>


            
            
          </div>


          <!--我喜欢的音乐-->
              <div class="page like hidden">
                <div class="newrankdetail" id='rankList2' style="margin-top: 60px;">
                  
                  <div class="detailtitle">
                    <p class="smalltitle_number">#</p>
                    <p class="smalltitle_name">歌曲</p>
                    <p class="smalltitle_singer">歌手</p>
                  </div>

                  <div class="songcontainer" id="2">
                   
                  </div>

                </div>


              </div>

   
          <!--播放界面-->
          <div class="song hidden"></div>

        </div>

        <!--播放器设置-->
        <div class="player" id = 'player'>
          <audio src=""  id = "audio_playing"></audio>

          <div class="left-albumimg">
            <div class="circle">
              <img class="circle_img" src = "../img/blackalbum.jpg"  id = 'album_rotate_img' alt = "">
            </div>
            <div class="songinfo">
              <!--名字，歌手-->
              <div class="songname">
                <p class="song"  id = "playsong" style = 'width:100px ;overflow: hidden;white-space: nowrap;text-overflow: ellipsis;'></p>
                <p class="name"  id = "playsinger"></p>
              </div>
             
            </div>
          </div>

          <div class="center-controls">

            <div class="buttons">
              <button class="like-dislike">
                <img src="../img/dislike.png"   class="control-button  dislike"  id = "dislike" alt = "">
              </button>
              <button id="prev">
                <img src="../img/prev.png"  class="control-button" alt = "">
              </button>
              <button id="play-pause">
                <img src="../img/continue.png"   class="control-button"   id = "play" alt = "">
              </button>
              <button id="next">
                <img src="../img/next.png"  class="control-button" alt = "">
              </button>
              <button id="order-change">
                <img src="../img/order.png" class="control-button" alt = ""   id="order">
              </button>
            </div> 
            
            <div class="bar">
              <span id="currentTime">0:00</span>
              <div class="progress_container" id="progress_container">
                <div class="progress_bar" id="progress_bar"></div>
              </div>
              <span id="duration">0:00</span>
            </div>
            
            
            
          </div>
          
          <div class="right-others">
            <button id="lyricbutton">
              <img src="../img/lyric.png"  class="control-button"  alt = "">
            </button>
            <button id="list">
              <img src="../img/list.png"  class="control-button" alt = "">
            </button>
            <button id="quit-sound">
              <img src="../img/sound.png"  class="control-button"  id = "sound"  alt = "">
            </button>
            <div class="air"></div>
            
          </div>



        </div>

        <!--播放列表-->
        <div class="songlist "  id = "songlist">

          <div class="listtitle">
            <p class="subtitle" style = 'border-bottom:2px solid gray; width : 85%'>播放列表</p>
          </div>
          <button id = "clear" >
            <img src="../img/clear.png" class="control-button" alt="">
          </button>

          <div class="list" id ='listcontainer'>

           
          </div>



        </div>

        <!--搜索条-->
        <div class="search">
          <input type="text" id="input-field" placeholder="搜索歌曲......">
          <button class="search_button" id = "start-search">
            <img src="../img/search.png" class="control-button" alt="">
          </button>

          <div class="return hidden" id = 'return'>
            <!--
            <div class="searchelement">
              <div class="song-name" style="border: none">
                <div class="song">212</div>
                <div class="name">321</div>
              </div>
              <button class="play">
                <img src="../img/continue.png" alt="" class="control-button">
              </button>
            </div>
            -->
          
          </div>
        </div>

        <!--消息弹窗-->
        <div class="massage" id = "message">出错了</div>

        <!--歌词-->
        <div class = "hidden" id = "dragable">
          <p class="lyric" id = "currentlyric">还没有歌词哦</p>
        </div>


      </div>
        

    </body>
    
    <script>
      const apiurl ="http://120.55.188.190:9000";
    </script>

    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <!--      https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js    -->


    <!--获取时间，问候-->
    <!--<script src = "../script/mainpage_greetingtime.js"></script>-->
    <!--添加跳转事件-->
    <script src = "../script/mainpage_gotoAnotherPage.js"></script>
    <!--展开热门榜、最新榜-->
    <script src = "../script/mainpage_rankListDetailsShow.js" defer></script>
    <!--从后台导入歌单-->

    <!--实现音乐播放、添加等-->
    <script src = "../script/mainpage_musicPlayer.js"></script>
    <!--实现搜索-->
    <script src = "../script/mainpage_search.js"></script>
    <!--实现按钮的切换-->
    <script src = "../script/mainpage_buttonEvents.js"></script>

    <!--显示用户名-->
    <script>
      document.getElementById("username").textContent = "用户名:" + username;
    </script>

    <!--确认页面-->
    <div class="confirm"></div>

</html>
